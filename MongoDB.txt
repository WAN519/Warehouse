- 1  In a warehouse management system, high-value products with long shelf life
should be prioritized during procurement to reduce expiration risks and maintain
inventory quality.
    
    db.products.find(
      {
        price: { $gt: 50 },
        shelf_life: { $gt: 365 }
      },
      {
        _id: 0,
        product_id: 1,
        product_name: 1,
        price: 1,
        shelf_life: 1
      }
    ).sort({ price: -1 });

- 2 The warehouse supply chain depends on reliable suppliers. Suppliers with high
ratings who are currently active are typically more stable and suitable for long-term
cooperation.
    
    db.suppliers.find(
      {
        star: { $gte: 4 },
        status: "active"
      },
      {
        _id: 0,
        supplier_id: 1,
        supplier_name: 1,
        address: 1,
        star: 1,
        duration: 1
      }
    ).sort({ star: -1, duration: -1 });

- 3 The platform’s operations team needs to track the number of users registered each year to
support growth evaluation, marketing analysis, and annual operational reporting
    
    db.users.countDocuments({
       register_time: {
       $gte: new Date("2024-01-01T00:00:00Z"),
       $lt: new Date("2025-01-01T00:00:00Z")
       }
    });

- 4 To analyze user growth trends, the platform needs monthly registration statistics to
identify seasonal patterns, evaluate campaign effectiveness, and observe overall user
growth dynamics.
    
    db.users.aggregate([
      {
       $match: {
            register_time: {
                $gte: new Date("2024-01-01T00:00:00Z"),
                $lt: new Date("2025-01-01T00:00:00Z")
            }
        }
      },
      {
       $group: {
            _id: {
                $dateToString: { format: "%Y-%m", date:
                "$register_time" }
            },
        user_count: { $sum: 1 }
        }
       },
       {
        $project: {
            _id: 0,
            month: "$_id",
            user_count: 1
        }
       },
       { $sort: { month: 1 } }
    ]);

- 5 Inventory structure analysis requires understanding each manufacturer’s supply
volume and pricing level, providing insights that support procurement decisions and
supply chain optimization.
    
    db.products.aggregate([
    {
        $group: {
            _id: "$manufacturer",
            product_count: { $sum: 1 },
            avg_price: { $avg: "$price" }
        }
    },
    {
        $match: {
            product_count: { $gte: 10 }
        }
    },
    {
        $project: {
            _id: 0,
            manufacturer: "$_id",
            product_count: 1,
            avg_price: 1
        }
    },
    {
        $sort: { avg_price: -1 }
    }
    ]);